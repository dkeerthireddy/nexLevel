# ============================================================================
# streakmate APP - PRODUCTION CONFIGURATION
# ============================================================================
# This file contains ALL configuration needed to run the app in production.
# Only the ADMIN needs to configure these values.
# END USERS just sign up with email/password - no setup required!
# ============================================================================

# ----------------------------------------------------------------------------
# REQUIRED: Core Configuration (Must be set for app to work)
# ----------------------------------------------------------------------------

# MongoDB Database (REQUIRED)
# Get a free MongoDB Atlas cluster: https://www.mongodb.com/cloud/atlas
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/streakmate?retryWrites=true&w=majority

# JWT Authentication Secret (REQUIRED)
# Generate a random secret: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# System/Logistics Email (REQUIRED for all system emails)
# Gmail account with App Password: https://myaccount.google.com/apppasswords
# 
# PURPOSE:
#   - FROM address: Email verification, password resets, challenge invitations
#   - TO address: Receives all feedback submissions
# 
# NOTE: This is the operational email, NOT the UI admin user
# UI Admins (who can access /admin dashboard) are users in database with role='admin'
# Use: node scripts/make-admin.js user@example.com to grant admin dashboard access
ADMIN_EMAIL=your-system-email@gmail.com
ADMIN_EMAIL_PASSWORD=your-gmail-app-password-16-chars

# Cloudinary API for Photo Uploads (REQUIRED)
# Get free account: https://cloudinary.com/users/register/free
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# ----------------------------------------------------------------------------
# OPTIONAL: AI Features (Highly Recommended)
# ----------------------------------------------------------------------------

# Google Gemini AI (OPTIONAL but recommended for AI features)
# Get free API key: https://aistudio.google.com/app/apikey
# If not set: AI features will be disabled with graceful fallbacks
GEMINI_API_KEY=your-gemini-api-key-from-google-ai-studio

# ----------------------------------------------------------------------------
# OPTIONAL: OAuth Social Login (Not required - users can use email/password)
# ----------------------------------------------------------------------------

# Google OAuth (OPTIONAL - for "Sign in with Google")
# Get from: https://console.cloud.google.com/apis/credentials
# GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=your-google-client-secret
# GOOGLE_CALLBACK_URL=https://your-domain.com/auth/google/callback

# GitHub OAuth (OPTIONAL - for "Sign in with GitHub")
# Get from: https://github.com/settings/developers
# GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-client-secret
# GITHUB_CALLBACK_URL=https://your-domain.com/auth/github/callback

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------

# Server Port (default: 4000)
PORT=4000

# Environment (development or production)
NODE_ENV=production

# Application URLs
APP_NAME=StreakMate
APP_URL=https://your-domain.com
CLIENT_URL=https://your-domain.com

# CORS Configuration (comma-separated list of allowed origins)
# For production, set this in Vercel environment variables
# Example: https://nexlevel-ai.vercel.app,https://your-custom-domain.com
CORS_ORIGIN=https://nexlevel-ai.vercel.app

# Cron Job Security (for scheduled tasks)
# Generate a random secret: openssl rand -base64 32
CRON_SECRET=your-cron-secret-key-for-vercel-cron-jobs

# ----------------------------------------------------------------------------
# NOTES
# ----------------------------------------------------------------------------
# ✅ User data encryption is handled automatically per-user (no global key needed)
# ✅ Email notifications are configured by each user in their Settings
# ✅ OAuth (Google/GitHub) is completely optional - users can sign up with email
# ✅ AI features gracefully degrade if GEMINI_API_KEY is not set
